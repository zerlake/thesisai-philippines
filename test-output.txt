
> next-template@0.1.0 test
> vitest src/__tests__/integration/messaging-system.test.tsx --run ; cat test-output.txt


[1m[46m RUN [49m[22m [36mv4.0.14 [39m[90mc:/Users/Projects/thesis-ai-fresh[39m

[90mstdout[2m | src/__tests__/integration/authentication-authorization.test.ts[2m > [22m[2mAuthentication and Authorization Integration Tests
[22m[39mCompleted authentication and authorization integration tests

 [31m‚ùØ[39m src/__tests__/integration/authentication-authorization.test.ts [2m([22m[2m5 tests[22m[2m | [22m[33m5 skipped[39m[2m)[22m[32m 15[2mms[22m[39m
     [2m[90m‚Üì[39m[22m Verify authentication is required for protected endpoints
     [2m[90m‚Üì[39m[22m Test that users can only access their own data
     [2m[90m‚Üì[39m[22m Test authorization for different user roles
     [2m[90m‚Üì[39m[22m Verify session handling for API calls
     [2m[90m‚Üì[39m[22m Test rate limiting functionality
 [31m‚ùØ[39m src/__tests__/personalization/smart-notifications.test.ts [2m([22m[2m13 tests[22m[2m | [22m[31m13 failed[39m[2m)[22m[32m 52[2mms[22m[39m
[31m       [31m√ó[31m should calculate priority based on notification type[39m[32m 12[2mms[22m[39m
[31m       [31m√ó[31m should weight alert notifications higher[39m[32m 2[2mms[22m[39m
[31m       [31m√ó[31m should consider user preferences in priority calculation[39m[32m 2[2mms[22m[39m
[31m       [31m√ó[31m should return current time if quiet hours inactive[39m[32m 1[2mms[22m[39m
[31m       [31m√ó[31m should delay notification if in quiet hours[39m[32m 1[2mms[22m[39m
[31m       [31m√ó[31m should select appropriate delivery channels[39m[32m 1[2mms[22m[39m
[31m       [31m√ó[31m should only use enabled channels[39m[32m 1[2mms[22m[39m
[31m       [31m√ó[31m should return empty array if notifications disabled[39m[32m 1[2mms[22m[39m
[31m       [31m√ó[31m should create notification with calculated priority[39m[32m 13[2mms[22m[39m
[31m       [31m√ó[31m should include appropriate delivery channels[39m[32m 4[2mms[22m[39m
[31m       [31m√ó[31m should set optimal delivery time[39m[32m 4[2mms[22m[39m
[31m       [31m√ó[31m should batch notifications if enabled[39m[32m 3[2mms[22m[39m
[31m       [31m√ó[31m should not batch if disabled[39m[32m 3[2mms[22m[39m
 [32m‚úì[39m src/__tests__/phase-3-educational-tools.test.ts [2m([22m[2m56 tests[22m[2m)[22m[32m 42[2mms[22m[39m
 [31m‚ùØ[39m src/__tests__/integration/messaging-system.test.tsx [2m([22m[2m18 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 2516[2mms[22m[39m
       [32m‚úì[39m should load and display conversations successfully[32m 228[2mms[22m[39m
       [32m‚úì[39m should handle missing relationships table gracefully[32m 141[2mms[22m[39m
       [32m‚úì[39m should handle missing messages table and try fallback[32m 36[2mms[22m[39m
       [32m‚úì[39m should log detailed error information on failure[32m 66[2mms[22m[39m
       [32m‚úì[39m should continue with empty conversations on error[32m 89[2mms[22m[39m
       [32m‚úì[39m should handle string error values[32m 66[2mms[22m[39m
       [32m‚úì[39m should load messages for the current user[32m 59[2mms[22m[39m
       [32m‚úì[39m should group messages by conversation[32m 77[2mms[22m[39m
       [32m‚úì[39m should handle empty message list[32m 63[2mms[22m[39m
       [32m‚úì[39m should try advisor_student_relationships first[32m 92[2mms[22m[39m
       [32m‚úì[39m should fallback to advisor_student_messages if relationships missing[32m 59[2mms[22m[39m
[31m       [31m√ó[31m should fallback to messages table if advisor_student_messages missing[39m[33m 1089[2mms[22m[39m
       [32m‚úì[39m should handle errors without message property[32m 105[2mms[22m[39m
       [32m‚úì[39m should serialize error object without circular references[32m 68[2mms[22m[39m
       [32m‚úì[39m should capture error type information[32m 110[2mms[22m[39m
       [32m‚úì[39m should continue loading UI even if all message tables fail[32m 68[2mms[22m[39m
       [32m‚úì[39m should not crash on null or undefined data responses[32m 44[2mms[22m[39m
       [32m‚úì[39m should handle rapid re-renders gracefully[32m 50[2mms[22m[39m
 [32m‚úì[39m src/__tests__/components/notification-bell.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[32m 12[2mms[22m[39m

[2m Test Files [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (5)[39m
[2m      Tests [22m [1m[31m14 failed[39m[22m[2m | [22m[1m[32m82 passed[39m[22m[2m | [22m[33m5 skipped[39m[90m (101)[39m
[2m     Errors [22m [1m[31m6 errors[39m[22m
[2m   Start at [22m 22:38:49
[2m   Duration [22m 10.17s[2m (transform 1.57s, setup 3.89s, import 4.82s, tests 2.64s, environment 15.62s)[22m

